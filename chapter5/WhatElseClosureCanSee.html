<html>
	<head>
		<title> What eles closures can see</title>

		<script type="text/javascript" src="../assert.js"></script>
		<link href="../main.css" type="text/css" rel="stylesheet">

	</head>
	<body>
		<script type="text/javascript">

		    var outerValue = 'dave';
		    var later;
		    
            function outerFunction() {
                var innerValue = 'peter';
                
                function innerFunction(paramValue) {
                    assert(outerValue, "inner can see dave");
                    assert(innerValue, "innser can see peter");
                    assert(paramValue, "Inner can see sim");
                    assert(tooLate, "Inner can see richard");
                }

                later = innerFunction;
            }

            assert(!tooLate, "outer can't see richard");

            var tooLate = "richard";

            outerFunction();

            later("sim");

            
		</script>
	</body>

</html>